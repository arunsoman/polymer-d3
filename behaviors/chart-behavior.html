<script>
  PolymerD3.chartBehavior = {
    properties: {
      chartWrap: Object,
      svg: Object
    },
    attached: function() {
      this.makeChartWrap();
    },
    makeChartWrap: function(id) {
      if (!id) {
        id = 'chart';
      }
      //this.$$() not working here
      var prev = this.querySelector('#' + id);
      if (prev) {
        prev.remove();
      }
      var elem = document.createElement('div');
      var svg = document.createElement('svg');
      elem.id = id;
      this.appendChild(elem);
      this.chartWrap = d3.select(elem);
      this.svg = d3.select(elem).append("svg");
    }
  }
</script>
