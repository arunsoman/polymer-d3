<script>
  PolymerD3.axisBehavior = {
    createAxis: function(scaleType, align, inverted, format){
      var map = {
        'linear': d3.scale.linear().range((align==='v')? [this.chartHeight,0]: [0, this.chatWidth]),
        'time': d3.time.scale().range((align==='v')? [this.chartHeight,0]: [0, this.chatWidth]),
        'category': d3.scale.ordinal().rangeRoundPoints((align==='v')? [this.chartHeight, 0]:[0, innerWidth], barPadding)
      };
      var scale = map[scaleType];
      
      var axisG = this.parentG.append("g");
      axisG.attr("class", align + " axis");
      switch(align){
        case 'top':
        case 'left':
        break;
        case 'right':
            axisG.attr("transform", "translate(" + this.chatWidth + ", 0)");
        case 'bottom':    
            axisG.attr("transform", "translate(0," + this.chartHeight + ")");
        break;
      }

      if(format && scaleType !== 'category'){
        switch(format){
          case  "number":
            axis.tickFormat(d3.format('.2s'));
          break;
          case  "currency":
            axis.tickFormat(d3.format('$.2s'));
          break;
          case  "percent":
            axis.tickFormat(d3.format('.0%'));
          break;
        }
      }
      if(format === 'category'){
        scale.rangeRoundBands((align==='v')? [this.chartHeight, 0]:[0, innerWidth], barPadding);
      }
      var axis = d3.svg.axis().orient(align);
      axisG.call(axis);
      axis.scale(scale);
      return axis;
    },

    applyTimeTickFormate: function(axis, bound){
      if (bound) {
          if (d3.timeYear.count(bound[0], bound[1]) < 10) {
              if (d3.timeMonth.count(bound[0], bound[1]) < 10) {
                  if (d3.timeWeek.count(bound[0], bound[1]) < 10) {
                      //todo
                      if (d3.timeDay.count(bound[0], bound[1]) < 10) {
                          if (d3.timeHour.count(bound[0], bound[1]) < 240)  {
                            if (((d3.time.format('%H:%M')(bound[0])) === '00:00') && ((d3.time.format('%H:%M')(bound[1])) === '00:00')) {
                                axis.tickFormat(d3.time.format('%d-%b'));
                              } else{
                                axis.tickFormat(d3.time.format('%a-%I-%M'));
                              }
                          } else {
                            axis.tickFormat(d3.time.format('%d-%b'));
                          }
                       } else {
                          axis.tickFormat(d3.time.format('%d-%b'));
                       }
                     // axis.tickFormat(d3.time.format('%d-%b'));
                  }
              } else {
                  axis.tickFormat(d3.time.format('%a-%b'));
              }
          } else {
              axis.tickFormat(d3.time.format('%b-%Y'));
          }
      }
    }
  }
</script>
