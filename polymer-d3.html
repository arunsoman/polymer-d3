<link rel="import" href="display-component/chart-selector.html">
<link rel="import" href="display-component/chart-selector.html">
<link rel="import" href="display-component/settings-component.html">
<link rel="import" href="display-component/legends-component.html">
<link rel="stylesheet" href="polymer-d3-global.css">
<dom-module id="polymer-d3">
  <template>
    <style>
      :host {
        background-color: #fff;
        box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
        display: block;
        font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        margin: 2em;
        padding: 1em;
      }
      .tool-bar {
        background-color: #EDEDED;
        box-shadow: 0 1px 1px rgba(0,0,0,0.16), 0 1px 1px rgba(0,0,0,0.23);
        margin: auto 1em;
        padding: .5em;
        position: relative;
      }
      .settings-icon {
        position: absolute;
        right: 0;
        top: 0;
      }
      .chartHolder {
        text-align: center;
      }
      bar-chart {
        display: inline-block;
      }
    </style>
    <template is="dom-if" if="{{editMode}}" restamp>
      <div class="tool-bar">
        <chart-selector
          charts="[[availableCharts]]"
          selected="{{selectedChart}}"
        ></chart-selector>
        <paper-icon-button
          class="settings-icon"
          icon="icons:settings"
          title="Settings"
          on-tap="showSettings"
        ></paper-icon-button>
      </div>
    </template>
    <template is="dom-if" if="{{settingsVisible}}" restamp>
      <display-component settings="{{settings}}"></display-component>
      <draggable-input externals="[[externals]]" inputs="{{inputs}}"></draggable-input>
      <template is="dom-if" if="{{legendSettingsFlag}}" restamp>
        <legends-component opener="{{legendSettingsFlag}}" settings="{{legendSettings}}"></legends-component>
      </template>
    </template>
    <div class="chartHolder"></div>
  </template>
  <script src="polymer-d3.js"></script>
</dom-module>
