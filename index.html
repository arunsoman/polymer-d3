<!DOCTYPE html>
<html>
  <head>
    <link rel="import" href="polymer-d3-imports-internal.html">
    <link rel="stylesheet" href="index.css">
    <!--
    <link href="bullet-chart/bullet-chart.html" rel="import">
    <link href="difference-chart/difference-chart.html" rel="import">
    -->
  </head>
  <body>
    <polymer-d3></polymer-d3>
    <!-- <polymerd3-table></polymerd3-table> -->
    <script type="text/javascript">
      var pd3 = document.querySelector('polymer-d3');
      // var table = document.querySelector('polymerd3-table');
      var externals = [{
        key: 'state',
        type: 'String',
        value: 0
      }, {
        key: 'Q1',
        type: 'Number',
        value: 0
      }, {
        key: 'Q2',
        type: 'Number',
        value: 1
      }, {
        key: 'Q3',
        type: 'Number',
        value: 2
      }, {
        key: 'Q4',
        type: 'Number',
        value: 3
      }]
      d3.csv("data/bar-data.csv", function(error, csv) {
        var data = csv.map(function(row) {
          return [
            Number(row.Q1), Number(row.Q2),
            Number(row.Q3), Number(row.Q4)
          ];
        });

        console.log("chart-data",data);
        var config = {
          source: data,
          externals: externals,
          mode: 'create'
        }
        pd3.bootstrapCharts(config);
        // table.source = data;
        // table.externals = externals;
      });
    </script>
  </body>
</html>
