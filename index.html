<!DOCTYPE html>
<html>
  <head>
    <script src="namespace.js"></script>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.js"></script>
    <script src="d3-time.v1.min.js"></script>


    <script src="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link href="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/polymer/polymer.html" rel="import">
    <link href="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/paper-icon-button/paper-icon-button.html" rel="import">
    <link href="https://cdn.rawgit.com/download/polymer-cdn/1.5.0/lib/paper-color-pallete.html" rel="import">

    <link href="behaviors/colorpicker-behavior.html" rel="import">
    <link href="polymer-d3.html" rel="import">
    <link href="behaviors/chart-behavior.html" rel="import">
    <link href="bar-chart/bar-chart.html" rel="import">
    <link href="area-chart/area-chart.html" rel="import">
    <link href="pie-chart/pie-chart.html" rel="import">
    <link href="parallel-coordinate/parallel-coordinate.html" rel="import">
    <link href="bullet-chart/bullet-chart.html" rel="import">
    <link href="sankey-chart/sankey-chart.html" rel="import">
    <link href="scatter-plot/scatter-plot.html" rel='import'>
    <link href="heat-map/heat-map.html" rel='import'>
    <link href="multi-line/multi-line.html" rel='import'>
    <link href="radar-chart/radar-chart.html" rel='import'>
    <link href="parallel-set/parallel-set.html" rel='import'>
    <link rel="stylesheet" href="index.css">
    <!--
    <link href="bullet-chart/bullet-chart.html" rel="import">
    <link href="difference-chart/difference-chart.html" rel="import">
    -->
  </head>
  <body>
    <polymer-d3></polymer-d3>
    <script type="text/javascript">
      var pd3 = document.querySelector('polymer-d3');
      var externals = [{
        key: 'state',
        type: 'String',
        value: 1
      },{
        key: 'l1',
        type: 'Number',
        value: 2
      },{
        key: 'l2',
        type: 'Number',
        value: 3
      },{
        key: 'l3',
        type: 'Number',
        value: 4
      },{
        key: 'l4',
        type: 'Number',
        value: 5
      },{
        key: 'l5',
        type: 'Number',
        value: 6
      },{
        key: 'l6',
        type: 'Number',
        value: 7
      },{
        key: 'l7',
        type: 'Number',
        value: 8
      }]
      d3.csv("data/bar-data.csv", function(error, csv) {
        var data = csv.map(function(row) {
          return [
            row.state, Number(row.l1), Number(row.l2),
            Number(row.l3), Number(row.l4), Number(row.l5),
            Number(row.l6), Number(row.l7)
          ];
        });
        console.log(data);
        var config = {
          source: data,
          externals: externals,
          mode: 'create'
        }
        pd3.bootstrapCharts(config);
      });
    </script>

  </body>
</html>