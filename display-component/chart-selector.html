<!--
  Input to select chart type
-->
<dom-module id="chart-selector">
  <template>
    <style>
      :host {
        display: block;
        background: #f9f9f9;
        position: relative;
        border: solid 1px #e4e4e4;
        margin: 0 -1em;
        border-left: 0;
        border-right: 0;
        box-shadow: inset 0px -1px 20px 6px rgba(0, 0, 0, 0.02);
        height: 37px;
        overflow: hidden;
      }
      paper-icon-button {
        box-sizing: content-box !important;
        color: #ff6632;
        height: 20px;
        width: 20px;
      }
      /*paper-icon-button:after {
        background: black;
        border-radius: 2px;
        color: white;
        content: attr(data-title);
        font-size: 10px;
        left: -50%;
        opacity: 0.8;
        padding: 2px;
        position: absolute;
        top: -10px;
        transform: scale(0);
        transition: all 1s ease;
        white-space: nowrap;
      }*/
      paper-icon-button:hover {
        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
        color: #454545;
        transform: scale(1.11);
      }
      /*paper-icon-button:hover:after {
        display: inline-block;
        transform: scale(1);
      }*/
    </style>
    <template is="dom-repeat" items="{{charts}}">
      <paper-icon-button
        icon="[[item.icon]]"
        title="[[item.label]]"
        on-tap="notifyTap"
      ></paper-icon-button>
    </template>
  </template>
  <script>
    Polymer({
      is: 'chart-selector',
      properties: {
        charts: {
          type: Array,
          value: () => { return [];}
        },
        selectedBtn: {
          type: Object,
          value: () => { return {};}
        },
        selected: {
          type: Object,
          value: () => { return {};},
          notify: true
        }
      },

      // Sets current selected object
      notifyTap: function(e) {
        if (this.selectedBtn.style) {
          this.selectedBtn.style.color = '';
        }
        this.set('selectedBtn', e.target);
        this.selectedBtn.style.color = '#97DBE6';
        this.set('selected', e.model.item);
      },

      setSelectedChart: function(selectedBtnIdentifier) {
        this.set('selectedBtn', this.$$(selectedBtnIdentifier));
        this.selectedBtn.style.color = '#97DBE6';
      }

    });
  </script>
</dom-module>
