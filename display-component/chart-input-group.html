<link rel="import" href="chart-input.html"/>
<link rel="import" href="drag-element.html"/>
<link href="../behaviors/redux-mixins-behavior.html" rel='import'>
<dom-module id="chart-input-group">
  <template>
    <style>
    .input-drag-wrapper{
      padding: 1em;
    }
    :host{
        position: relative;
        overflow: hidden;
        background: #2f3238;
        border-bottom: solid 1px #c71503;
        display: block;
        overflow: hidden;
        text-align: center;
    }
    .input-drag-wrapper{
      padding: 1em;
    }
    #inputItems{
      background: #cc6055;
    }

    </style>

    <!-- <div uuid = [[getUUID]]></div> -->
    <div class="input-drag-wrapper">
      <template is="dom-repeat" items="[[ externals ]]">
        <drag-element item="[[item]]" draggable="true"  data-index$="[[item.value]]"></drag-element>
      </template>
    </div>

    <div id="inputItems">
      <slot name="chart-input"></slot>
    </div>

  </template>
  
<script>
const initialExt = datacsv.externals;
const initialsource = datacsv.source;

    class chartInputGroup extends ReduxMixinBehavior(Polymer.Element) {
        static get is() {
            return 'chart-input-group';
        }
        static get properties(){
          return{
            externals:{
              type:Array,
              statePath(state){
                return state.externals
              }
            },
            source:{
              type:Array,
              statePath(state){
                return state.source
              }
            }//,
            // inputs:{
            //   type:Array,
            //   statePath(state){
            //     return state.charts[this.uuid]['inputs']
            //   }
            // },
            // inputObj:{
            //   type:Object,
            //   value:{}
            // }

          }
        }
        static get actions() {
          return {
            updateExternal(externals) {
              return {
                type: 'UPDATE_EXTERNALS',
                value: externals
              };
            },
            updateSource(source) {
              return {
                type: 'UPDATE_SOURCE',
                value: source
              };
            }
          }
        }
        constructor() {
            super();
        }
        connectedCallback(){
          super.connectedCallback()
        }
    }
    customElements.define(chartInputGroup.is, chartInputGroup)
</script>
</dom-module>
